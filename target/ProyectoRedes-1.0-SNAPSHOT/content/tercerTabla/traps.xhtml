<ui:composition template="/WEB-INF/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
>
    <ui:define name="content">

        <p:dataTable id="tablaTraps" value="#{pregunta32.objectList}" var="var" emptyMessage="No existen traps" >
            <p:column>
                <h:outputText value="#{var.get('oid')}" />
            </p:column>
            <p:column>
                <h:outputText value="#{var.get('string')}" />
            </p:column>
            <p:column>
                <h:outputText value="#{var.get('time')}" converter="dateConverter" />
            </p:column>
        </p:dataTable>



        <h:form>

            <p:commandButton value="Enviar notificacion" actionListener="#{messagesMB.setMessages('Hay fallos','En su red')}"
                             oncomplete="PF('messagesDlg').show();"
                             process="@this"/>

        </h:form>


        <h:form>
            <p:commandButton value="Actualizar"
                             actionListener="#{pregunta32.onClick()}"
                             process="@this @form"
                             onclick="start();"
                             oncomplete="stop();"
                             update="@([id$=tablaTraps])"
            />
        </h:form>

    </ui:define>
</ui:composition>